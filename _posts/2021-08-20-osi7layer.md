---
layout: article
title: ETC - OSI 7 Layer (네알못 탈출기 1)
aside:
 toc: true
tags: etc


---

## OSI 7 Layer (TCP/IP Model)

> 나와 친구가 팀플을 하기로 했다. 내 컴퓨터에서 작성한 PPT 파일를 친구 컴퓨터로 넘겨주어야 할 때, 내 컴퓨터와 친구 컴퓨터는 "통신"을 해야한다. 즉, "통신"이란 여러 기계 (device)들이 데이터를 주고 받는 것을 말한다. 데이터를 주고 받는 통신 과정을 크게 7단계로 추상화한 모델이 바로 OSI(Open Systems Interconnection)다. 

본격적으로 OSI의 각 레이어를 알아보기 앞서 **네트워크 (Network)**가 무엇인지 간단히 알아보자.    

네트워크는 여러 기계들이 서로 데이터를 전송할 수 있도록 연결한 망이다.    

PC A가 PC B에게 데이터를 보내기위해서는 두 컴퓨터가 연결되 있어야 한다. 컴퓨터의 **연결 방식**은 크게  유선 연결과 무선 연결이 있다.     

![](/assets/device_network.png)

유선 연결은 케이블 선으로 두 기계를 연결해 선을 통해 데이터 (bit)가 전송될 수 있도록 하는 방식이다. 이 때 PC A와 PC B는 같은 **Protocol** 을 따라 통신해야한다. 내가 친구에게 말을 걸고 싶을 때, 둘은 서로 같은 언어로 말해야하는 것처럼 두 기계가 데이터를 전송할 때도 같은 규칙, 즉 같은 protocol을 따라야 한다. 유선 연결 네트워크 protocol 종류로는 ehternet, ntp 등이 있다.    

무선 연결은 우리가 익숙한 wi-fi다. 무선 연결된 컴퓨터는 wi-fi protocol을 따라 통신한다.    

![](/assets/network.jpeg)

위 사진처럼 PC들은 **switch**  에 연결되어 있고 각 switch는 **router** 에 연결된다. 이렇게 기계들이 switch, router로 연결되어 통신이 가능해진 망을 네트워크라고 한다.    

네트워크는 그 **규모**에 따라 LAN (Local Area Network), WAN (Wide Area Network) 등이 있다.    





### 1. Physical Layer

* 컴퓨터간 통신을 위해서는 bit (0과 1로 구성된 binary)를 전기 신호로 바꿔서 전선을 통해 다른 컴퓨터로 보내야함
* 하드웨어에 구현돼 있음

### 2. Datalink Layer 

* 서로 다른 네트워크에 연결된 컴퓨터간 통신이 필요할 때, 라우터를 통해 데이터를 전송해야 함
* 하드웨어 랜 카드 (Lan-card)에 구현돼 있음

### 3. Network Layer

- 한 컴퓨터에서 다른 컴퓨터로 데이터를 보낼 때, 보낼 컴퓨터의 IP 주소를 알아야 함. `(IP address) + (data)` 묶음을 **패킷 (packet)** 이라고 하는데 라우터가 패킷에 적힌 IP 주소를 보고 알맞은 라우터에게 데이터를 넘겨 줌 (forwarding)

- OS (kernel)에 구현돼 있음

### 4. Transport Layer

- **포트 (port)** 는 특정 프로세스 가리키는 키 값. 따라서 프로세스마다 고유의 포트 번호가 존재함. 데이터가 전송될 때, 패킷 앞에 포트 번호가 추가되어 `(port number) + (IP address) + (data) ` 가 전송됨
- OS (kernel)에 구현돼 있음

### 5 & 6 & 7. Application Layer

- TCP/IP 모델은 Session Layer와 Presentation Layer가 Application Layer로 통합됨
- 해당 프로토콜 (protocol) 의 **status code** 를 출력함. 이때 전송되는 데이터는 `(port number) + (IP address) + (status code) + (data) ` 가 됨
- http 경우, 200은 요청 성공, 404는 요청에 대한 응답을 할 수 없음을 의미함



## Reference

1. [router switch image](https://circuitglobe.com/difference-between-router-and-switch.html)
2. 
